# 构建 npm 步骤

## 问题说明

如果遇到组件路径找不到的错误，说明还没有构建 npm 包。

## 解决步骤

### 1. 确认已安装依赖

依赖应该已经安装完成（如果还没有，执行 `npm install`）。

### 2. 在微信开发者工具中构建 npm

1. 打开微信开发者工具
2. 点击菜单栏：**工具** → **构建 npm**
3. 等待构建完成
4. 构建成功后，会在项目根目录生成 `miniprogram_npm` 文件夹

### 3. 检查构建结果

构建完成后，应该能看到：
```
miniprogram/
  └── miniprogram_npm/
      └── @vant/
          └── weapp/
              └── button/
                  └── index.js
```

### 4. 重新编译

构建完成后，点击"编译"按钮重新编译项目。

## 常见问题

### 构建失败

如果构建失败，尝试以下步骤：

1. **删除相关文件夹**
   ```bash
   rm -rf miniprogram_npm
   rm -rf node_modules
   ```

2. **重新安装依赖**
   ```bash
   npm install
   ```

3. **重新构建**
   - 在微信开发者工具中点击"工具" → "构建 npm"

### 仍然找不到组件

如果构建后仍然找不到组件：

1. **检查项目配置**
   - 确保 `project.config.json` 中的 `packNpmManually` 设置为 `true`
   - 确保 `app.json` 中的组件路径正确

2. **检查构建输出**
   - 查看微信开发者工具的控制台是否有错误信息
   - 确认 `miniprogram_npm` 文件夹是否生成

3. **重启开发者工具**
   - 关闭并重新打开微信开发者工具
   - 重新导入项目

## 验证

构建成功后，可以在页面中使用 Vant 组件，例如：

```xml
<van-button type="primary">按钮</van-button>
```

如果组件正常显示，说明构建成功。

