# Terraform 变量配置示例文件
# 复制此文件为 terraform.tfvars 并填入实际值

# 基础配置
aws_region   = "us-west-2"
environment  = "production"
project_name = "order-system"

# 域名配置
domain_name          = "yourdomain.com"
create_route53_zone  = true

# 网络配置
vpc_cidr                = "10.0.0.0/16"
availability_zones_count = 2

# 数据库配置
db_instance_class           = "db.t3.medium"
db_allocated_storage        = 100
db_max_allocated_storage    = 1000
db_backup_retention_period  = 7
db_multi_az                = true
db_deletion_protection     = true

# Redis 配置
redis_node_type                = "cache.t3.micro"
redis_num_cache_clusters       = 2
redis_snapshot_retention_limit = 5

# ECS 配置
frontend_cpu           = 512
frontend_memory        = 1024
frontend_desired_count = 2

backend_cpu           = 1024
backend_memory        = 2048
backend_desired_count = 2

# Auto Scaling 配置
enable_auto_scaling        = true
auto_scaling_min_capacity  = 2
auto_scaling_max_capacity  = 10
auto_scaling_target_cpu    = 70

# 监控和日志
log_retention_days        = 7
enable_container_insights = true

# 安全配置
enable_waf = true
allowed_cidr_blocks = [
  "0.0.0.0/0"  # 允许所有IP访问，生产环境建议限制
]

# 备份配置
enable_cross_region_backup = false
backup_region             = "us-east-1"

# 成本优化
use_spot_instances      = false
cloudfront_price_class  = "PriceClass_100"

# 邮件配置
smtp_host     = "smtp.gmail.com"
smtp_port     = "587"
smtp_username = "your-email@gmail.com"

# 敏感配置 - 请使用强密码
db_password      = "your-strong-database-password"
secret_key       = "your-application-secret-key"
jwt_secret       = "your-jwt-secret-key"
redis_auth_token = "your-redis-auth-token"  # 可选
smtp_password    = "your-smtp-password"
payment_api_key  = "your-payment-api-key"   # 可选

# 额外标签
additional_tags = {
  Owner       = "DevOps Team"
  CostCenter  = "Engineering"
  Backup      = "Required"
}

# 注意事项：
# 1. 请将此文件重命名为 terraform.tfvars
# 2. 填入实际的配置值，特别是敏感信息
# 3. 不要将包含敏感信息的 terraform.tfvars 文件提交到版本控制系统
# 4. 建议使用 AWS Secrets Manager 或环境变量来管理敏感信息
# 5. 生产环境建议启用所有安全功能和监控